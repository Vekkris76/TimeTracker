server {
    listen 80;
    listen 443 ssl;
    server_name timetracker.resol.dom;
    
    root /var/www/timetracker;
    index index.html;

    # SSL - Ajustar rutas según vuestra configuración
    # ssl_certificate /path/to/certificate.crt;
    # ssl_certificate_key /path/to/private.key;

    # IMPORTANTE: Procesar archivos PHP
    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/var/run/php/php8.3-fpm.sock;
        # Si usáis otra versión de PHP, cambiar aquí:
        # fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;
    }

    # Denegar acceso a archivos ocultos
    location ~ /\. {
        deny all;
    }

    # Logs
    access_log /var/log/nginx/timetracker.access.log;
    error_log /var/log/nginx/timetracker.error.log;
}
